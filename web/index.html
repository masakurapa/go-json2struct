<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="google-site-verification" content="GyoDNvLAwgpjhbqCAxHym8EdRNg_8ru7ixMclR30NVc" />
    <title>JSON to Go Struct</title>
    <script src="wasm_exec.js"></script>
    <script>
      const go = new Go();
      WebAssembly.instantiateStreaming(fetch("main.wasm"), go.importObject).then((result) => {
          go.run(result.instance);
      });
    </script>
    <script src="https://kit.fontawesome.com/4e4a01a531.js"></script>
    <link rel='stylesheet' href='style.css'>
  </head>
  <body>
    <header>JSON to Go Struct</header>

    <main>
      <div class="buttons">
        <button id="run-btn" onClick="json2struct()">Run</button>
        <button onClick="copyClipboard()">Copy</button>
      </div>

      <div class="options">
        <div>
          <label for="use-tag"><input type="checkbox" id="use-tag" checked>Output Tag</label>
          <label>Tag Name <input type="text" id="tag-name" value="json"></label>
        </div>
        <div>
          Output "omitempty"
          <label for="omitempty-none"><input type="radio" id="omitempty-none" name="omitempty" value="0" checked>None</label>
          <label for="omitempty-always"><input type="radio" id="omitempty-always" name="omitempty" value="1">Always</label>
          <label for="omitempty-ptr"><input type="radio" id="omitempty-ptr" name="omitempty" value="2">Pointer Only</label>
        </div>
      </div>

      <div>
        <textarea id="input" rows="10" placeholder='{"sample":"paste the json here"}'></textarea>
      </div>
      <div>
        <textarea id="output" rows="20" disabled></textarea>
      </div>

      <div class="about">
        <p>About JSON to Go Struct</p>
        <p>The "JSON to Go Struct" is a web service that generates Go structures from JSON string.</p>
        <p>
          This service uses <a href="https://webassembly.org/">WebAssembly</a>.<br>
          Therefore, JSON strings are processed without being sent to the server.
        </p>
        <p>
          If you specify an array with multiple objects, the Keys not present in all objects are output as pointer types.
        </p>

        <p class="indent1">example</p>
        <p class="indent2">input:</p>
        <pre class="example-input">[
    {"key1": "ramen", "key2": "value2", "key3": "value3"},
    {"key1": "sushi", "key2": "value2"},
    {"key1": "curry"}
]</pre>
        <p class="indent2">output:</p>
        <pre class="example-output">type J2S1 []J2S2

type J2S2 struct {
	Key1 string  `json:"key1"`
	Key2 *string `json:"key2"`  // It will be a pointer.
	Key3 *string `json:"key3"`  // It will be a pointer.
}</pre>

        <p>The current version is CURRENT_VERSION</p>
      </div>
    </main>

    <footer>
      <div class="copyright">Â©2022 JSON to Go Struct</div>
      <div class="footer-link">
          <a href="https://github.com/masakurapa/go-json2struct" target="_blank">
              <i class="fab fa-github-square" style="color: black; font-size: 1.5em;" aria-hidden="true"></i>GitHub
          </a>
      </div>
    </footer>
  </body>
</html>
